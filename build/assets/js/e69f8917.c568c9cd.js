"use strict";(self.webpackChunkga4gh_starter_kit_docs=self.webpackChunkga4gh_starter_kit_docs||[]).push([[657],{3905:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return f}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(r),m=a,f=c["".concat(s,".").concat(m)]||c[m]||u[m]||i;return r?n.createElement(f,o(o({ref:t},d),{},{components:r})):n.createElement(f,o({ref:t},d))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},3974:function(e,t,r){r.r(t),r.d(t,{assets:function(){return s},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return p}});var n=r(3117),a=(r(7294),r(3905));const i={sidebar_position:2},o="Starter Kit DRS Configuration",l={unversionedId:"starter-kit-apis/drs/drs_configuration",id:"starter-kit-apis/drs/drs_configuration",title:"Starter Kit DRS Configuration",description:"The Starter Kit DRS service can be configured with modifiable properties. All property configuration is done via a YAML config file that is supplied to the program at runtime via a -c $ option. This section outlines the structure of the YAML config.",source:"@site/docs/starter-kit-apis/drs/drs_configuration.md",sourceDirName:"starter-kit-apis/drs",slug:"/starter-kit-apis/drs/drs_configuration",permalink:"/docs/starter-kit-apis/drs/drs_configuration",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/starter-kit-apis/drs/drs_configuration.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Starter Kit DRS Overview",permalink:"/docs/starter-kit-apis/drs/drs_overview"},next:{title:"Starter Kit DRS Test Dataset",permalink:"/docs/starter-kit-apis/drs/drs_test_dataset"}},s={},p=[{value:"Configurable <code>drs</code> properties",id:"configurable-drs-properties",level:3},{value:"DRS Service Info Defaults",id:"drs-service-info-defaults",level:3},{value:"DRS Service Props",id:"drs-service-props",level:3},{value:"Example Starter Kit DRS Config",id:"example-starter-kit-drs-config",level:3}],d={toc:p},c="wrapper";function u(e){let{components:t,...r}=e;return(0,a.kt)(c,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"starter-kit-drs-configuration"},"Starter Kit DRS Configuration"),(0,a.kt)("p",null,"The Starter Kit DRS service can be configured with modifiable properties. All property configuration is done via a YAML config file that is supplied to the program at runtime via a ",(0,a.kt)("inlineCode",{parentName:"p"},"-c ${CONFIG_FILE}")," option. This section outlines the structure of the YAML config."),(0,a.kt)("p",null,"The config file MUST start with a single root object named ",(0,a.kt)("inlineCode",{parentName:"p"},"drs"),". All sub-properties are nested under ",(0,a.kt)("inlineCode",{parentName:"p"},"drs"),"."),(0,a.kt)("h3",{id:"configurable-drs-properties"},"Configurable ",(0,a.kt)("inlineCode",{parentName:"h3"},"drs")," properties"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"),(0,a.kt)("th",{parentName:"tr",align:null},"Links"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"serverProps")),(0,a.kt)("td",{parentName:"tr",align:null},"Modifies the behavior of high-level server application properties, such as listening port(s), logging, and CORS headers."),(0,a.kt)("td",{parentName:"tr",align:null},"See ",(0,a.kt)("a",{parentName:"td",href:"../../concepts-and-guides/configuring-webservice-properties"},(0,a.kt)("inlineCode",{parentName:"a"},"serverProps"))," for more info.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"databaseProps")),(0,a.kt)("td",{parentName:"tr",align:null},"Connect to a target database that has been set up with the prerequisite table schema for Starter Kit DRS"),(0,a.kt)("td",{parentName:"tr",align:null},"See ",(0,a.kt)("a",{parentName:"td",href:"../../concepts-and-guides/configuring-database-connection"},(0,a.kt)("inlineCode",{parentName:"a"},"databaseProps"))," for more info.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"serviceInfo")),(0,a.kt)("td",{parentName:"tr",align:null},"Display custom information about the deployed web service via the ",(0,a.kt)("inlineCode",{parentName:"td"},"/service-info")," endpoint"),(0,a.kt)("td",{parentName:"tr",align:null},"See ",(0,a.kt)("a",{parentName:"td",href:"../../concepts-and-guides/configuring-service-info"},(0,a.kt)("inlineCode",{parentName:"a"},"serviceInfo"))," for more info on configuring a custom Service Info response. See ",(0,a.kt)("a",{parentName:"td",href:"#drs-service-info-defaults"},(0,a.kt)("inlineCode",{parentName:"a"},"DRS Service Info Defaults"))," for the default service info values for Starter Kit DRS deployments.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"drsServiceProps")),(0,a.kt)("td",{parentName:"tr",align:null},"Server properties unique only to the DRS API (and not applicable to other Starter Kit services)"),(0,a.kt)("td",{parentName:"tr",align:null},"See ",(0,a.kt)("a",{parentName:"td",href:"#drs-service-props"},(0,a.kt)("inlineCode",{parentName:"a"},"drsServiceProps"))," for more info")))),(0,a.kt)("h3",{id:"drs-service-info-defaults"},"DRS Service Info Defaults"),(0,a.kt)("p",null,"The following table lists the default attribute values returned over ",(0,a.kt)("inlineCode",{parentName:"p"},"/service-info")," for Starter Kit DRS services."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,a.kt)("th",{parentName:"tr",align:null},"Default Value"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"id")),(0,a.kt)("td",{parentName:"tr",align:null},"org.ga4gh.starterkit.drs")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"name")),(0,a.kt)("td",{parentName:"tr",align:null},"GA4GH Starter Kit DRS Service")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"description")),(0,a.kt)("td",{parentName:"tr",align:null},"An open source, community-driven implementation of the GA4GH Data Repository Service (DRS) API specification.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"contactUrl")),(0,a.kt)("td",{parentName:"tr",align:null},"mailto:",(0,a.kt)("a",{parentName:"td",href:"mailto:info@ga4gh.org"},"info@ga4gh.org"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"documentationUrl")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/ga4gh/ga4gh-starter-kit-drs"},"https://github.com/ga4gh/ga4gh-starter-kit-drs"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"createdAt")),(0,a.kt)("td",{parentName:"tr",align:null},"2020-01-15T12:00:00Z")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"updatedAt")),(0,a.kt)("td",{parentName:"tr",align:null},"2020-01-15T12:00:00Z")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"environment")),(0,a.kt)("td",{parentName:"tr",align:null},"test")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"version")),(0,a.kt)("td",{parentName:"tr",align:null},"0.1.0")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"organization.name")),(0,a.kt)("td",{parentName:"tr",align:null},"Global Alliance for Genomics and Health")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"organization.url")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://ga4gh.org"},"https://ga4gh.org"))))),(0,a.kt)("h3",{id:"drs-service-props"},"DRS Service Props"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"drsServiceProps")," object modifies unique properties to the DRS API. A full explanation of configurable ",(0,a.kt)("inlineCode",{parentName:"p"},"drsServiceProps")," properties is outlined below"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"),(0,a.kt)("th",{parentName:"tr",align:null},"Data Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Default"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"serveFileURLForFileObjects")),(0,a.kt)("td",{parentName:"tr",align:null},"Indicates whether the DRS service should return ",(0,a.kt)("inlineCode",{parentName:"td"},"file://")," URLs of DRSObject file location to the client. If true, assumes that the client has access to the same filesystem as the service (e.g. HPC environment, or local machine). Applies only to 'file' based objects (ie not https, s3, etc.)"),(0,a.kt)("td",{parentName:"tr",align:null},"boolean"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"false"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"serveStreamURLForFileObjects")),(0,a.kt)("td",{parentName:"tr",align:null},"Indicates whether the DRS service should provide the streaming endpoint URL to the client, for files that the server can access but the client cannot. If true, assumes that client cannot access the file by its path. Applies only to 'file' based objects (ie not https, s3, etc.)"),(0,a.kt)("td",{parentName:"tr",align:null},"boolean"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"true"))))),(0,a.kt)("h3",{id:"example-starter-kit-drs-config"},"Example Starter Kit DRS Config"),(0,a.kt)("p",null,"The following snippet displays an example complete YAML configuration for a deployment of the Starter Kit DRS service."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"drs:\n  serverProps:\n    scheme: https\n    hostname: drs-api-starterkit.example.com\n    publicApiPort: 80\n    adminApiPort: 7000\n  databaseProps:\n    url: jdbc:postgresql://starter-kit-demo-db.ga4gh.org:5555/drsdb\n    username: ga4gh-admin\n    password: makeSureThisIsSecure123\n  serviceInfo:\n    id: org.ga4gh.drs.public-dataset\n    name: Genomics Public Dataset DRS Service\n    description: Serves genomics public datasets according to DRS specification\n  drsServiceProps:\n    serveFileURLForFileObjects: true\n    serveStreamURLForFileObjects: false\n")))}u.isMDXComponent=!0}}]);